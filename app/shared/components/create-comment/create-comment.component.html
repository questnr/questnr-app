<StackLayout class="comment-user-interaction-container">
  <StackLayout class="attached-file-list-container">
    <qn-attached-file-list [elementHeight]="attachedFileContainerHeight"
      (finalizedAttachedFileListListener)="finalizedAttachedFileListListener($event)" #attachedFileListComponent>
    </qn-attached-file-list>
  </StackLayout>
  <!-- <StackLayout class="reply-username-wrapper" *ngIf="commentReply" orientation="horizontal">
      <StackLayout verticalAlignment="middle">
        <qn-username [username]="commentReply.username" [disableLink]="true">
        </qn-username>
      </StackLayout>
      <StackLayout verticalAlignment="middle">
        <Label class="fa" text="&nbsp;&#xf2d4;"></Label>
      </StackLayout>
    </StackLayout> -->
  <GridLayout [height]="userCommentInteractionPanelHeight" class="comment-user-interaction" verticalAlignment="top"
    columns="auto, *, auto">
    <StackLayout class="profile-icon" orientation="horizontal" verticalAlignment="middle">
      <qn-profile-icon col="0" [avatar]="authService.getAvatar()" [height]="30" [sizeRef]="'medium'"
        verticalAlignment="middle" #profileIcon>
      </qn-profile-icon>
    </StackLayout>
    <GridLayout col="1" class="input-field-wrapper" verticalAlignment="top" columns="*, auto">
      <TextField col="0" class="input-field"
        [hint]="commentReply? 'Reply to ' + commentReply.username : 'Comment here..'" [formControl]="comment"
        autocorrect="false" autocapitalizationType="none" verticalAlignment="middle"
        (tap)="onCommentTextFieldTap($event)" #commentInput>
      </TextField>
      <StackLayout col="1" orientation="horizontal" height="100%">
        <StackLayout class="reply-username-close" *ngIf="commentReply" orientation="horizontal" ripple
          [rippleColor]="qColors.$red" (tap)="removeReplying()">
          <Label class="fa" text="&#xf00d;" verticalAlignment="middle"></Label>
        </StackLayout>
        <StackLayout class="vertical-border"></StackLayout>
        <Label class="submit fa" ripple [rippleColor]="qColors.$primary" [rippleEnabled]="comment.valid"
          (tap)="postComment()" [isEnabled]="isCommentValid()" verticalAlignment="middle" text="&#xf1d9;">
        </Label>
      </StackLayout>
    </GridLayout>
    <StackLayout col="2" class="comment-feature" orientation="horizontal" verticalAlignment="middle">
      <Button class="fa" horizontalAlignment="center" verticalAlignment="middle" ripple [rippleColor]="qColors.$primary"
        (tap)="chooseFile()" [text]="'&#xf0c6;'"></Button>
    </StackLayout>
  </GridLayout>
</StackLayout>